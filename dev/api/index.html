<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>API · OnlineStats Documentation</title><meta name="title" content="API · OnlineStats Documentation"/><meta property="og:title" content="API · OnlineStats Documentation"/><meta property="twitter:title" content="API · OnlineStats Documentation"/><meta name="description" content="Documentation for OnlineStats Documentation."/><meta property="og:description" content="Documentation for OnlineStats Documentation."/><meta property="twitter:description" content="Documentation for OnlineStats Documentation."/><script async src="https://www.googletagmanager.com/gtag/js?id=G-5LKX04JX9B"></script><script>  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-5LKX04JX9B', {'page_path': location.pathname + location.search + location.hash});
</script><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script><link href="../assets/style.css" rel="stylesheet" type="text/css"/><link href="../assets/favicon.ico" rel="icon" type="image/x-icon"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img class="docs-light-only" src="../assets/logo.svg" alt="OnlineStats Documentation logo"/><img class="docs-dark-only" src="../assets/logo-dark.svg" alt="OnlineStats Documentation logo"/></a><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Welcome!</a></li><li><a class="tocitem" href="../stats_and_models/">Statistics and Models</a></li><li><a class="tocitem" href="../bigdata/">Big Data</a></li><li><a class="tocitem" href="../dataviz/">Data Visualization</a></li><li><a class="tocitem" href="../collections/">Collections of Stats</a></li><li><a class="tocitem" href="../howfitworks/">Details of Updating (<code>fit!</code>)</a></li><li><a class="tocitem" href="../weights/">Weights</a></li><li><a class="tocitem" href="../ml/">Statistical Learning</a></li><li class="is-active"><a class="tocitem" href>API</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>API</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>API</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/joshday/OnlineStats.jl" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="API"><a class="docs-heading-anchor" href="#API">API</a><a id="API-1"></a><a class="docs-heading-anchor-permalink" href="#API" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OnlineStats.ADADELTA" href="#OnlineStats.ADADELTA"><code>OnlineStats.ADADELTA</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">ADADELTA(ρ = .95)</code></pre><p>An extension of <a href="#OnlineStats.ADAGRAD"><code>ADAGRAD</code></a>.</p><ul><li>Reference: https://ruder.io/optimizing-gradient-descent/</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joshday/OnlineStats.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OnlineStats.ADAGRAD" href="#OnlineStats.ADAGRAD"><code>OnlineStats.ADAGRAD</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">ADAGRAD()</code></pre><p>A variation of <a href="#OnlineStats.SGD"><code>SGD</code></a> with element-wise weights generated by the average of the squared gradients.</p><ul><li>Reference: https://ruder.io/optimizing-gradient-descent/</li><li>Note: ADAGRAD uses a learning rate in OnlineStats, which differs from how it is typically presented. See https://www.seqstat.com/post/adagrad/ for details.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joshday/OnlineStats.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OnlineStats.ADAM" href="#OnlineStats.ADAM"><code>OnlineStats.ADAM</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">ADAM(β1 = .99, β2 = .999)</code></pre><p>A variant of <a href="#OnlineStats.SGD"><code>SGD</code></a> with element-wise learning rates generated by exponentially weighted first and second moments of the gradient.</p><ul><li>Reference: https://ruder.io/optimizing-gradient-descent/</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joshday/OnlineStats.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OnlineStats.ADAMAX" href="#OnlineStats.ADAMAX"><code>OnlineStats.ADAMAX</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">ADAMAX(η, β1 = .9, β2 = .999)</code></pre><p>ADAMAX with momentum parameters <code>β1</code>, <code>β2</code>.  ADAMAX is an extension of <a href="#OnlineStats.ADAM"><code>ADAM</code></a>.</p><ul><li>Reference: https://ruder.io/optimizing-gradient-descent/</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joshday/OnlineStats.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OnlineStats.Ash" href="#OnlineStats.Ash"><code>OnlineStats.Ash</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Ash(h::Union{KHist, Hist, ExpandingHist})
Ash(h::Union{KHist, Hist, ExpandingHist}, m::Int, kernel::Function)</code></pre><p>Create an Average Shifted Histogram using <code>h</code> as the base histogram with smoothing parameter <code>m</code> and kernel function <code>kernel</code>.  Built-in kernels are available in the <code>OnlineStats.Kernels</code> module.</p><p><strong>Example</strong></p><pre><code class="nohighlight hljs">using OnlineStats, Plots

o = fit!(Ash(ExpandingHist(1000)), randn(10^6))

plot(o)
plot(o, 20)
plot(o, OnlineStats.Kernels.epanechnikov, 4)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joshday/OnlineStats.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OnlineStats.AutoCov" href="#OnlineStats.AutoCov"><code>OnlineStats.AutoCov</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">AutoCov(b, T = Float64; weight=EqualWeight())</code></pre><p>Calculate the auto-covariance/correlation for lags 0 to <code>b</code> for a data stream of type <code>T</code>.</p><p><strong>Example</strong></p><pre><code class="nohighlight hljs">y = cumsum(randn(100))
o = AutoCov(5)
fit!(o, y)
autocov(o)
autocor(o)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joshday/OnlineStats.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OnlineStats.BiasVec" href="#OnlineStats.BiasVec"><code>OnlineStats.BiasVec</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">BiasVec(x)</code></pre><p>Lightweight wrapper of a vector which adds a bias/intercept term at the end.</p><p><strong>Example</strong></p><pre><code class="nohighlight hljs">BiasVec(rand(5))</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joshday/OnlineStats.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OnlineStats.Bootstrap" href="#OnlineStats.Bootstrap"><code>OnlineStats.Bootstrap</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Bootstrap(o::OnlineStat, nreps = 100, d = [0, 2])</code></pre><p>Calculate an online statistical bootstrap of <code>nreps</code> replicates of <code>o</code>.  For each call to <code>fit!</code>, any given replicate will be updated <code>rand(d)</code> times (default is double or nothing).</p><p><strong>Example</strong></p><pre><code class="nohighlight hljs">o = Bootstrap(Variance())
fit!(o, randn(1000))
confint(o, .95)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joshday/OnlineStats.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OnlineStats.CCIPCA" href="#OnlineStats.CCIPCA"><code>OnlineStats.CCIPCA</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">CCIPCA(outdim::Int, indim; l::Int)</code></pre><p>Online PCA with the CCIPCA (Candid Covariance-free Incremental PCA) algorithm, where indim is the length of incoming vectors, outdim is the number of dimension to project to, and l is the level of amnesia. Give values of l in the range 2-4 if you want old vectors to be gradually less important, i.e. latest vectors added get more weight.</p><p>If no indim is specified it will be set later, on first call to fit. After that it is fixed and cannot change.</p><p>The CCIPCA is a very fast, simple, and online approximation of PCA. It can be used for Dimensionality Reduction to project high-dimensional vectors into a low-dimensional (typically 2D or 3D) space. This algorithm has shown very good properties in comparative studies; it is both fast and give a good approximation to (batch) PCA.</p><p><strong>Example</strong></p><pre><code class="nohighlight hljs">o = CCIPCA(2, 10)                # Project 10-dimensional vectors into 2D
u1 = rand(10)
fit!(o, u1)                      # Fit to u1
u2 = rand(10)
fit!(o, u2)                      # Fit to u2
u3 = rand(10)
OnlineStats.transform(o, u3)     # Project u3 into PCA space fitted to u1 and u2 but don&#39;t change the projection
u4 = rand(10)
OnlineStats.fittransform!(o, u4) # Fit u4 and then project u4 into the space
sort!(o)                         # Sort from high to low eigenvalues
o[1]                             # Get primary (1st) eigenvector
OnlineStats.relativevariances(o)         # Get the variation (explained) &quot;by&quot; each eigenvector</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joshday/OnlineStats.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OnlineStats.CallFun" href="#OnlineStats.CallFun"><code>OnlineStats.CallFun</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">CallFun(o::OnlineStat, f::Function)</code></pre><p>Call <code>f(o)</code> every time the OnlineStat <code>o</code> gets updated.</p><p><strong>Example</strong></p><pre><code class="nohighlight hljs">o = CallFun(Mean(), println)
fit!(o, [0,0,1,1])</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joshday/OnlineStats.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OnlineStats.Cluster" href="#OnlineStats.Cluster"><code>OnlineStats.Cluster</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Cluster center and the number of observations</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joshday/OnlineStats.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OnlineStats.CountMinSketch" href="#OnlineStats.CountMinSketch"><code>OnlineStats.CountMinSketch</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">CountMinSketch(T = Number; nhash=50, hashlength=1000, storagetype=Int)</code></pre><p>Create a Count-Min Sketch with <code>nhash</code> hash functions of width <code>hashlength</code>.  Counts in the sketch will be stored as <code>storagetype</code>.</p><p>This lets you calculate an upper bound on the number of occurrences of some value <code>x</code> in a data stream via <code>value(count_min_sketch, x)</code>.  For details and error bounds, please see the references section.</p><p><strong>Example</strong></p><pre><code class="nohighlight hljs">o = CountMinSketch()

y = rand(1:100, 10^6)

fit!(o, y)

value(o, 1)

sum(y .== 1)</code></pre><p><strong>References</strong></p><ul><li>https://florian.github.io/count-min-sketch/</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joshday/OnlineStats.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OnlineStats.DPMM" href="#OnlineStats.DPMM"><code>OnlineStats.DPMM</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">DPMM(comp_mu::Real,
     comp_lambda::Real,
     comp_alpha::Real,
     comp_beta::Real,
     dirichlet_alpha::Real;
     comp_birth_thres=1e-2,
     comp_death_thres=1e-2,
     n_comp_max=10)</code></pre><p>Online univariate dirichlet process Gaussian mixture model algorithm.</p><p><strong>Mathematical Description</strong></p><p>The model is described as</p><pre><code class="nohighlight hljs">G ~ DP(dirchlet_alpha, Normal-Gamma)
(μₖ, τₖ) ~ G
x ~ N(μ, 1/sqrt(τ))</code></pre><p>where the base measure is defined as</p><pre><code class="nohighlight hljs">τₖ ~ Gamma(comp_alpha, 1/comp_beta)
μₖ ~ N(comp_mu, 1/sqrt(comp_lambda*τₖ)).</code></pre><p>The variational distribution is the mean-field family defined as</p><pre><code class="nohighlight hljs">q(μₖ | τₖ; mₖ, lₖ) q(τₖ; aₖ, bₖ) = N(μₖ; mₖ, 1/(lₖ*τₖ)) Gamma(τₖ; aₖ, 1/bₖ).</code></pre><p>Since the model is nonparametric, mixture components are added depending on the birth threshold <code>comp_birth_thres</code> (higher means less frequen births) and  existing components are pruned depending on the death threshold <code>comp_death_thres</code>.</p><p><strong>Hyperparameters</strong></p><p>DPMMs tend to be very sensitive to its hyperparameters. Therefore, it is important to monitor the fitted result and tweak the hyperparameters accordingly. Here are the implications of each hyperparameter:</p><ul><li><code>comp_mu</code>: Prior mean of the components </li><li><code>comp_lambda</code>: Prior precision of the components. This affects the dispersion                of the components relative to the scale of each component.                (Smaller the more dispersed.) (<code>comp_lambda</code> &gt; 0)</li><li><code>comp_alpha</code>: Gamma shape parameter of the scale (inverse of the variance) of               each component. (<code>comp_alpha</code> &gt; 0)</li><li><code>comp_beta</code>: Gamma scale parameter of the scale (inverse of the variance) of              each component. (<code>comp_beta</code> &gt; 0)</li><li><code>dirichlet_alpha</code>: Initial weight of a newly added component. Larger values                    result in more components being created.                    (<code>dirichlet_alpha</code> &gt; 0)</li><li><code>comp_birth_thres</code>: Threshold for adding a new component (highly affected by                     <code>dirichlet_alpha</code>)</li><li><code>comp_death_thres</code>: Threshold for prunning (or killing) an existing component.</li></ul><p>A mechanical procedure for setting the component hyperparameters is to first set <code>comp_alpha &gt; 2</code>. This ensures the variance to be finite. Then, solve <code>comp_beta</code> such that the Gamma distribution concentrates most of the probability density on the expected range of <code>1/τₖ</code>, the variance of each component. Finally, solve for <code>comp_lambda</code> such that the marginal density of <code>μₖ</code>, which is a Student-T distribution</p><pre><code class="nohighlight hljs">p(μₖ | λ₀, α₀, β₀)
    = ∫ p(μₖ | τₖ, μ₀, λ₀) p(τₖ | α₀, β₀) dτₖ
    = ∫ N(μₖ; μ₀, 1/sqrt(λ₀*τₖ)) Gamma(τₖ; αₖ, βₖ) dτₖ
    = TDist( 2*α₀, μ₀, sqrt(β₀/(λ₀*α₀)),</code></pre><p>has its probability density concentrated on the expected range of the component means.</p><p>Below is a implementing the prior elicitation procedure described above:</p><pre><code class="nohighlight hljs">using Roots

prob_τₖ = 0.8
τₖ_max  = 0.5
μ₀      = 0.0
α₀      = 2.1
prob_μₖ = 0.8
μₖ_min  = -2
μₖ_max  = 2

β₀ = find_zero(β₀ -&gt; cdf(InverseGamma(α₀, β₀), τₖ_max) - prob_τₖ, (1e-4, Inf))
λ₀ = find_zero(λ₀ -&gt; begin
    p_μ = TDist(2*α₀)*sqrt(β₀/(λ₀*α₀)) + μ₀
    cdf(p_μ, μₖ_max) - cdf(p_μ, μₖ_min) - prob_τₖ
end, (1e-4, 1e+2))</code></pre><p><code>prob_*</code> sets the amount of density on the desired range. <code>τₖ_max</code>, <code>μₖ_min</code>, <code>μₖ_max</code> is the expected range of each parameters. Since we leave <code>1 - prob_*</code> density on the tails, these are soft contraints.</p><p>Unfortunately, <code>dirichlet_alpha</code>, <code>comp_birth_thres</code>, <code>comp_death_thres</code> can be tuned only through trial and error. However, <code>dirichlet_alpha</code> is best set 0.5 ~ 1e-2 depending on the desired number of components.</p><p><strong>Example</strong></p><pre><code class="nohighlight hljs">n    = 1024
μ    = 0.0
λ    = 0.1
α    = 2.1
β    = 0.5
α_dp = 1.0
o    = DPMM(μ, λ, α, β, α_dp; comp_birth_thres=0.5,
            comp_death_thres=1e-2, n_comp_max=10) 
p = MixtureModel([ Normal(-2.0, 0.5), Normal(3.0, 1.0) ], [0.7, 0.3])
o = fit!(o, rand(p, 1000))</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joshday/OnlineStats.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OnlineStats.DWDLoss" href="#OnlineStats.DWDLoss"><code>OnlineStats.DWDLoss</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">DWDLoss(q)(y, xβ)</code></pre><p>Distance-weighted discrimination loss function (smoothed <code>l1hingeloss</code>) with smoothing parameter <code>q</code>.  Loss is calculated between a boolean response <code>y ∈ {-1, 1}</code> and linear predictor <code>xβ</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joshday/OnlineStats.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OnlineStats.Diff" href="#OnlineStats.Diff"><code>OnlineStats.Diff</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Diff(T::Type = Float64)</code></pre><p>Track the difference and the last value.</p><p><strong>Example</strong></p><pre><code class="nohighlight hljs">o = Diff()
fit!(o, [1.0, 2.0])
last(o)
diff(o)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joshday/OnlineStats.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OnlineStats.ElasticNet" href="#OnlineStats.ElasticNet"><code>OnlineStats.ElasticNet</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">ElasticNet(α)</code></pre><p>Weighted average of Ridge (<code>abs</code>) and LASSO (<code>abs2</code>) penalty functions.</p><p><span>$(1 - α) * Ridge + α * LASSO$</span></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joshday/OnlineStats.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OnlineStats.ExpandingHist" href="#OnlineStats.ExpandingHist"><code>OnlineStats.ExpandingHist</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">ExpandingHist(nbins)</code></pre><p>An adaptive histogram where the bin edges keep doubling in size in order to contain every observation. <code>nbins</code> must be an even number.  Bins are left-closed and the rightmost bin is closed, e.g.</p><ul><li><code>[a, b)</code>, <code>[b, c)</code>, <code>[c, d]</code></li></ul><p><strong>Example</strong></p><pre><code class="nohighlight hljs">o = fit!(ExpandingHist(200), randn(10^6))

using Plots
plot(o)</code></pre><p><strong>Details</strong></p><p>How <code>ExpandingHist</code> works is best understood through example.  Suppose we start with a histogram of edges/counts as follows:</p><pre><code class="nohighlight hljs">|1|2|5|3|2|</code></pre><ul><li>Now we observe a data point that is not contained in the bin edges:</li></ul><pre><code class="nohighlight hljs">|1|2|5|3|2|       *</code></pre><ul><li>In order to contain the point, the range of the edges doubles in the direction of the new data point and adjacent bins merge their counts:</li></ul><pre><code class="nohighlight hljs">|1|2|5|3|2|       *
 \ / \ / \ /      ↓
  ↓   ↓   ↓       ↓
| 3 | 8 | 2 | 0 | 1 |</code></pre><ul><li>Note that multiple iterations of bin-doubling may occur until the new point is contained by the bin edges.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joshday/OnlineStats.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OnlineStats.FastForest" href="#OnlineStats.FastForest"><code>OnlineStats.FastForest</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">FastForest(p, nkeys=2; stat=FitNormal(), kw...)</code></pre><p>Calculate a random forest where each variable is summarized by <code>stat</code>.</p><p><strong>Keyword Arguments</strong></p><ul><li><code>nt=100</code>: Number of trees in the forest</li><li><code>b=floor(Int, sqrt(p))</code>: Number of random features for each tree to receive</li><li><code>maxsize=1000</code>: Maximum size for any tree in the forest</li><li><code>splitsize=5000</code>: Number of observations in any given node before splitting</li><li><code>λ = 5 * (1 / nt)</code>: Probability that each tree is updated on a new observation</li></ul><p><strong>Example</strong></p><pre><code class="nohighlight hljs">x, y = randn(10^5, 10), rand(1:2, 10^5)

o = fit!(FastForest(10), zip(eachrow(x),y))

classify(o, x[1,:])</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joshday/OnlineStats.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OnlineStats.FastTree" href="#OnlineStats.FastTree"><code>OnlineStats.FastTree</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">FastTree(p::Int, nclasses=2; stat=FitNormal(), maxsize=5000, splitsize=1000)</code></pre><p>Calculate a decision tree of <code>p</code> predictors variables and classes <code>1, 2, …, nclasses</code>. Nodes split when they reach <code>splitsize</code> observations until <code>maxsize</code> nodes are in the tree. Each variable is summarized by <code>stat</code>, which can be <code>FitNormal()</code> or <code>Hist(nbins)</code>.</p><p><strong>Example</strong></p><pre><code class="nohighlight hljs">x = randn(10^5, 10)
y = rand([1,2], 10^5)

o = fit!(FastTree(10), zip(eachrow(x),y))

xi = randn(10)
classify(o, xi)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joshday/OnlineStats.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OnlineStats.FitBeta" href="#OnlineStats.FitBeta"><code>OnlineStats.FitBeta</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">FitBeta(; weight)</code></pre><p>Online parameter estimate of a Beta distribution (Method of Moments).</p><p><strong>Example</strong></p><pre><code class="nohighlight hljs">o = fit!(FitBeta(), rand(1000))</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joshday/OnlineStats.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OnlineStats.FitCauchy" href="#OnlineStats.FitCauchy"><code>OnlineStats.FitCauchy</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">FitCauchy(b=500)</code></pre><p>Approximate parameter estimation of a Cauchy distribution.  Estimates are based on approximated quantiles.  See <a href="#OnlineStats.Quantile"><code>Quantile</code></a> and <a href="#OnlineStats.ExpandingHist"><code>ExpandingHist</code></a> for details on how the distribution is estimated.</p><p><strong>Example</strong></p><pre><code class="nohighlight hljs">o = fit!(FitCauchy(), randn(1000))</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joshday/OnlineStats.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OnlineStats.FitGamma" href="#OnlineStats.FitGamma"><code>OnlineStats.FitGamma</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">FitGamma(; weight)</code></pre><p>Online parameter estimate of a Gamma distribution (Method of Moments).</p><p><strong>Example</strong></p><pre><code class="nohighlight hljs">using Random
o = fit!(FitGamma(), randexp(10^5))</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joshday/OnlineStats.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OnlineStats.FitLogNormal" href="#OnlineStats.FitLogNormal"><code>OnlineStats.FitLogNormal</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">FitLogNormal()</code></pre><p>Online parameter estimate of a LogNormal distribution (MLE).</p><p><strong>Example</strong></p><pre><code class="nohighlight hljs">o = fit!(FitLogNormal(), exp.(randn(10^5)))</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joshday/OnlineStats.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OnlineStats.FitMultinomial" href="#OnlineStats.FitMultinomial"><code>OnlineStats.FitMultinomial</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">FitMultinomial(p)</code></pre><p>Online parameter estimate of a Multinomial distribution.  The sum of counts does not need to be consistent across observations.  Therefore, the <code>n</code> parameter of the Multinomial distribution is returned as 1.</p><p><strong>Example</strong></p><pre><code class="nohighlight hljs">x = [1 2 3; 4 8 12]
fit!(FitMultinomial(3), x)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joshday/OnlineStats.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OnlineStats.FitMvNormal" href="#OnlineStats.FitMvNormal"><code>OnlineStats.FitMvNormal</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">FitMvNormal(d)</code></pre><p>Online parameter estimate of a <code>d</code>-dimensional MvNormal distribution (MLE).</p><p><strong>Example</strong></p><pre><code class="nohighlight hljs">y = randn(100, 2)
o = fit!(FitMvNormal(2), eachrow(y))</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joshday/OnlineStats.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OnlineStats.FitNormal" href="#OnlineStats.FitNormal"><code>OnlineStats.FitNormal</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">FitNormal()</code></pre><p>Calculate the parameters of a normal distribution via maximum likelihood.</p><p><strong>Example</strong></p><pre><code class="nohighlight hljs">o = fit!(FitNormal(), randn(1000))</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joshday/OnlineStats.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OnlineStats.GeometricMean" href="#OnlineStats.GeometricMean"><code>OnlineStats.GeometricMean</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">GeometricMean(T = Float64)</code></pre><p>Calculate the geometric mean of a data stream, stored as type <code>T</code>.</p><p><strong>Example</strong></p><pre><code class="nohighlight hljs">o = fit!(GeometricMean(), 1:100)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joshday/OnlineStats.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OnlineStats.HeatMap" href="#OnlineStats.HeatMap"><code>OnlineStats.HeatMap</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Heatmap(xedges, yedges; left = true, closed = true)
Heatmap(itr; left = true, closed = true)</code></pre><p>Create a two dimensional histogram with the bin partition created by <code>xedges</code> and <code>yedges</code>. When fitting a new observation, the first value will be associated with X, the second with Y.</p><ul><li>If <code>left</code>, the bins will be left-closed.</li><li>If <code>closed</code>, the bins on the ends will be closed.  See <a href="#OnlineStats.Hist"><code>Hist</code></a>.</li></ul><p><strong>Example</strong></p><pre><code class="nohighlight hljs">using Plots

xy = zip(randn(10^6), randn(10^6))
o = fit!(HeatMap(-5:.1:5, -5:.1:5), xy)
plot(o)

xy = zip(1 .+ randn(10^6) ./ 10, randn(10^6))
o = HeatMap(xy)
plot(o, marginals=false)
plot(o)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joshday/OnlineStats.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OnlineStats.Hist" href="#OnlineStats.Hist"><code>OnlineStats.Hist</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Hist(edges; left = true, closed = true)</code></pre><p>Create a histogram with bin partition defined by <code>edges</code>.</p><ul><li>If <code>left</code>, the bins will be left-closed.</li><li>If <code>closed</code>, the bin on the end will be closed.<ul><li>E.g. for a two bin histogram <span>$[a, b), [b, c)$</span> vs. <span>$[a, b), [b, c]$</span></li></ul></li></ul><p><strong>Example</strong></p><pre><code class="nohighlight hljs">o = fit!(Hist(-5:.1:5), randn(10^6))

# approximate statistics
using Statistics

mean(o)
var(o)
std(o)
quantile(o)
median(o)
extrema(o)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joshday/OnlineStats.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OnlineStats.HyperLogLog" href="#OnlineStats.HyperLogLog"><code>OnlineStats.HyperLogLog</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">HyperLogLog(T = Number)
HyperLogLog{P}(T = Number)</code></pre><p>Approximate count of distinct elements of a data stream of type <code>T</code>, using <code>2 ^ P</code> &quot;registers&quot;.  <code>P</code> must be an integer between 4 and 16 (default).</p><p>By default it returns the improved HyperLogLog cardinality estimator as defined by [1].</p><p>The original HyperLogLog estimator [2] can be retrieved with the option <code>original_estimator=true</code>.</p><p><strong>Example</strong></p><pre><code class="nohighlight hljs">o = HyperLogLog()
fit!(o, rand(1:100, 10^6))

using Random
o2 = HyperLogLog(String)
fit!(o2, [randstring(20) for i in 1:1000])

# by default the improved estimator is returned:
value(o)
# the original HyperLogLog estimator can be retrieved via:
value(o; original_estimator=true)</code></pre><p><strong>References</strong></p><p>[1] Improved estimator: Otmar Ertl. New cardinality estimation algorithms for HyperLogLog sketches. <a href="https://arxiv.org/abs/1702.01284">https://arxiv.org/abs/1702.01284</a></p><p>[2] Original estimator: P. Flajolet, Éric Fusy, O. Gandouet, and F. Meunier. Hyperloglog: The analysis of a near-optimal cardinality estimation algorithm. <em>In Analysis of Algorithms (AOFA)</em>, pages 127–146, 2007.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joshday/OnlineStats.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OnlineStats.IndexedPartition" href="#OnlineStats.IndexedPartition"><code>OnlineStats.IndexedPartition</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">IndexedPartition(T, stat, b=100)</code></pre><p>Summarize data with <code>stat</code> over a partition of size <code>b</code> where the data is indexed by a variable of type <code>T</code>.</p><p><strong>Example</strong></p><pre><code class="nohighlight hljs">x, y = randn(10^5), randn(10^6)
o = IndexedPartition(Float64, KHist(10))
fit!(o, zip(x, y))

using Plots
plot(o)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joshday/OnlineStats.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OnlineStats.KHist" href="#OnlineStats.KHist"><code>OnlineStats.KHist</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">KHist(k::Int)</code></pre><p>Estimate the probability density of a univariate distribution at <code>k</code> approximately equally-spaced points.</p><p>Ref: <a href="https://www.jmlr.org/papers/volume11/ben-haim10a/ben-haim10a.pdf">https://www.jmlr.org/papers/volume11/ben-haim10a/ben-haim10a.pdf</a></p><p>A difference from the above reference is that the minimum and maximum values are not allowed to merge into another bin.</p><p><strong>Example</strong></p><pre><code class="nohighlight hljs">o = fit!(KHist(25), randn(10^6))

# Approximate statistics
using Statistics
mean(o)
var(o)
std(o)
quantile(o)
median(o)

using Plots
plot(o)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joshday/OnlineStats.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OnlineStats.KHist2D" href="#OnlineStats.KHist2D"><code>OnlineStats.KHist2D</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">KHist2D(b=300)</code></pre><p>Approximate scatterplot of <code>b</code> centers.  This implementation is slow!  See <a href="#OnlineStats.IndexedPartition"><code>IndexedPartition</code></a> and <a href="#OnlineStats.KIndexedPartition"><code>KIndexedPartition</code></a> instead.</p><p><strong>Example</strong></p><pre><code class="nohighlight hljs">x = randn(10^4)
y = x + randn(10^4)
plot(fit!(KHist2D(), zip(x, y)))</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joshday/OnlineStats.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OnlineStats.KIndexedPartition" href="#OnlineStats.KIndexedPartition"><code>OnlineStats.KIndexedPartition</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">KIndexedPartition(T, stat_init, k=100)</code></pre><p>Similar to <a href="#OnlineStats.IndexedPartition"><code>IndexedPartition</code></a>, but indexes the first variable by centroids (like <a href="#OnlineStats.KHist"><code>KHist</code></a>) rather than intervals.</p><ul><li>Note: <code>stat_init</code> must be a function e.g. <code>() -&gt; Mean()</code></li></ul><p><strong>Example</strong></p><pre><code class="nohighlight hljs">using Plots

o = KIndexedPartition(Float64, () -&gt; KHist(10))

fit!(o, zip(randn(10^6), randn(10^6)))

plot(o)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joshday/OnlineStats.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OnlineStats.KMeans" href="#OnlineStats.KMeans"><code>OnlineStats.KMeans</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">KMeans(k; rate=LearningRate(.6))</code></pre><p>Approximate K-Means clustering of <code>k</code> clusters.</p><p><strong>Example</strong></p><pre><code class="nohighlight hljs">x = [randn() + 5i for i in rand(Bool, 10^6), j in 1:2]

o = fit!(KMeans(2, 2), eachrow(x))

sort!(o; rev=true)  # Order clusters by number of observations

classify(o, x[1])  # returns index of cluster closest to x[1]</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joshday/OnlineStats.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OnlineStats.KahanMean" href="#OnlineStats.KahanMean"><code>OnlineStats.KahanMean</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">KahanMean(; T=Float64, weight=EqualWeight())</code></pre><p>Track a univariate mean. Uses a compensation term for the update.</p><p>#Note</p><p>This should be more accurate as <a href="#OnlineStatsBase.Mean"><code>Mean</code></a> in most cases but the guarantees of <a href="#OnlineStats.KahanSum"><code>KahanSum</code></a> do not apply. <a href="#Base.merge!-Tuple{OnlineStat, OnlineStat}"><code>merge!</code></a> can have some accuracy issues.</p><p><strong>Update</strong></p><p><span>$μ = (1 - γ) * μ + γ * x$</span></p><p><strong>Example</strong></p><pre><code class="nohighlight hljs">@time fit!(KahanMean(), randn(10^6))</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joshday/OnlineStats.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OnlineStats.KahanSum" href="#OnlineStats.KahanSum"><code>OnlineStats.KahanSum</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">KahanSum(T::Type = Float64)</code></pre><p>Track the overall sum. Includes a compensation term that effectively doubles precision, see <a href="https://en.wikipedia.org/wiki/Kahan_summation_algorithm">Wikipedia</a> for details.</p><p><strong>Example</strong></p><pre><code class="nohighlight hljs">fit!(KahanSum(Float64), fill(1, 100))</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joshday/OnlineStats.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OnlineStats.KahanVariance" href="#OnlineStats.KahanVariance"><code>OnlineStats.KahanVariance</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">KahanVariance(; T=Float64, weight=EqualWeight())</code></pre><p>Track the univariate variance. Uses compensation terms for a higher accuracy.</p><p>#Note</p><p>This should be more accurate as <a href="#OnlineStatsBase.Variance"><code>Variance</code></a> in most cases but the guarantees of <a href="#OnlineStats.KahanSum"><code>KahanSum</code></a> do not apply. <a href="#Base.merge!-Tuple{OnlineStat, OnlineStat}"><code>merge!</code></a> can have accuracy issues.</p><p><strong>Example</strong></p><pre><code class="nohighlight hljs">o = fit!(KahanVariance(), randn(10^6))
mean(o)
var(o)
std(o)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joshday/OnlineStats.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OnlineStats.Lag" href="#OnlineStats.Lag"><code>OnlineStats.Lag</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Lag(T, b::Int)</code></pre><p>Store the last <code>b</code> values for a data stream of type <code>T</code>.  Values are stored as</p><p><span>$v(t), v(t-1), v(t-2), …, v(t-b+1)$</span></p><p>so that <code>value(o::Lag)[1]</code> is the most recent observation and <code>value(o::Lag)[end]</code> is the <code>b</code>-th most recent observation.</p><p><strong>Example</strong></p><pre><code class="nohighlight hljs">o = fit!(Lag(Int, 10), 1:12)
o[1]
o[end]</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joshday/OnlineStats.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OnlineStats.LinReg" href="#OnlineStats.LinReg"><code>OnlineStats.LinReg</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">LinReg()</code></pre><p>Linear regression, optionally with element-wise ridge regularization.</p><p><strong>Example</strong></p><pre><code class="nohighlight hljs">x = randn(100, 5)
y = x * (1:5) + randn(100)
o = fit!(LinReg(), zip(eachrow(x),y))
coef(o)
coef(o, .1)
coef(o, [0,0,0,0,Inf])</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joshday/OnlineStats.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OnlineStats.LinRegBuilder" href="#OnlineStats.LinRegBuilder"><code>OnlineStats.LinRegBuilder</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">LinRegBuilder(p)</code></pre><p>Create an object from which any variable can be regressed on any other set of variables, optionally with element-wise ridge regularization.  The main function to use with <code>LinRegBuilder</code> is <code>coef</code>:</p><pre><code class="nohighlight hljs">coef(o::LinRegBuilder, λ = 0; y=1, x=[2,3,...], bias=true, verbose=false)</code></pre><p>Return the coefficients of a regressing column <code>y</code> on columns <code>x</code> with ridge (<code>abs2</code> penalty) parameter <code>λ</code>.  An intercept (<code>bias</code>) term is added by default.</p><p><strong>Examples</strong></p><pre><code class="nohighlight hljs">x = randn(1000, 10)
o = fit!(LinRegBuilder(), eachrow(x))

coef(o; y=3, verbose=true)

coef(o; y=7, x=[2,5,4])</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joshday/OnlineStats.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OnlineStats.LogSumExp" href="#OnlineStats.LogSumExp"><code>OnlineStats.LogSumExp</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">LogSumExp(T::Type = Float64)</code></pre><p>For positive numbers that can be very small (or very large), it&#39;s common to store each <code>log(x)</code> instead of each <code>x</code> itself, to avoid underflow (or overflow). <code>LogSumExp</code> takes values in this representation and adds them, returning the result in the same representation.</p><p>Ref: <a href="https://www.nowozin.net/sebastian/blog/streaming-log-sum-exp-computation.html">https://www.nowozin.net/sebastian/blog/streaming-log-sum-exp-computation.html</a></p><p><strong>Example</strong></p><pre><code class="nohighlight hljs">x = randn(1000)

fit!(LogSumExp(), x)

log(sum(exp.(x))) # should be very close</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joshday/OnlineStats.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OnlineStats.MSPI" href="#OnlineStats.MSPI"><code>OnlineStats.MSPI</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">MSPI()</code></pre><p>Majorized Stochastic Proximal Iteration.</p><ul><li>Reference: https://repository.lib.ncsu.edu/handle/1840.20/34945</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joshday/OnlineStats.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OnlineStats.Mosaic" href="#OnlineStats.Mosaic"><code>OnlineStats.Mosaic</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Mosaic(T::Type, S::Type)</code></pre><p>Data structure for generating a mosaic plot, a comparison between two categorical variables.</p><p><strong>Example</strong></p><pre><code class="nohighlight hljs">using OnlineStats, Plots
x = [rand() &gt; .8 for i in 1:10^5]
y = rand([1,2,2,3,3,3], 10^5)
o = fit!(Mosaic(Bool, Int), zip(x, y))
plot(o)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joshday/OnlineStats.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OnlineStats.MovingTimeWindow" href="#OnlineStats.MovingTimeWindow"><code>OnlineStats.MovingTimeWindow</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">MovingTimeWindow{T&lt;:TimeType, S}(window::Dates.Period)
MovingTimeWindow(window::Dates.Period; valtype=Float64, timetype=Date)</code></pre><p>Fit a moving window of data based on time stamps.  Each observation must be a <code>Tuple</code>, <code>NamedTuple</code>, or <code>Pair</code> where the first item is <code>&lt;: Dates.TimeType</code>.  Observations with a <code>timestamp</code> NOT in the range</p><pre><code class="nohighlight hljs">now() - window ≤ timestamp ≤ now()</code></pre><p>are discarded on every <code>fit!</code>.</p><p><strong>Example</strong></p><pre><code class="nohighlight hljs">using Dates
dts = Date(2010):Day(1):Date(2011)
y = rand(length(dts))

o = MovingTimeWindow(Day(4); timetype=Date, valtype=Float64)
fit!(o, zip(dts, y))</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joshday/OnlineStats.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OnlineStats.MovingWindow" href="#OnlineStats.MovingWindow"><code>OnlineStats.MovingWindow</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">MovingWindow(b, T)
MovingWindow(T, b)</code></pre><p>Track a moving window of <code>b</code> items of type <code>T</code>.  Also known as a circular buffer.</p><p><strong>Example</strong></p><pre><code class="nohighlight hljs">o = MovingWindow(10, Int)
fit!(o, 1:14)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joshday/OnlineStats.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OnlineStats.NBClassifier" href="#OnlineStats.NBClassifier"><code>OnlineStats.NBClassifier</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">NBClassifier(p::Int, T::Type; stat = Hist(15))</code></pre><p>Calculate a naive bayes classifier for classes of type <code>T</code> and <code>p</code> predictors.  For each class <code>K</code>, predictor variables are summarized by the <code>stat</code>.</p><p><strong>Example</strong></p><pre><code class="nohighlight hljs">x, y = randn(10^4, 10), rand(Bool, 10^4)

o = fit!(NBClassifier(10, Bool), zip(eachrow(x),y))
collect(keys(o))
probs(o)

xi = randn(10)
predict(o, xi)
classify(o, xi)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joshday/OnlineStats.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OnlineStats.OMAP" href="#OnlineStats.OMAP"><code>OnlineStats.OMAP</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">OMAP()</code></pre><p>Online MM via Averaged Parameter.</p><ul><li>Reference: https://repository.lib.ncsu.edu/handle/1840.20/34945</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joshday/OnlineStats.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OnlineStats.OMAS" href="#OnlineStats.OMAS"><code>OnlineStats.OMAS</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">OMAS()</code></pre><p>Online MM via Averaged Surrogate.</p><ul><li>Reference: https://repository.lib.ncsu.edu/handle/1840.20/34945</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joshday/OnlineStats.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OnlineStats.OrderStats" href="#OnlineStats.OrderStats"><code>OnlineStats.OrderStats</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">OrderStats(b::Int, T::Type = Float64; weight=EqualWeight())</code></pre><p>Average order statistics with batches of size <code>b</code>.</p><p><strong>Example</strong></p><pre><code class="nohighlight hljs">o = fit!(OrderStats(100), randn(10^5))
quantile(o, [.25, .5, .75])

f = ecdf(o)
f(0)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joshday/OnlineStats.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OnlineStats.P2Quantile" href="#OnlineStats.P2Quantile"><code>OnlineStats.P2Quantile</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">P2Quantile(τ = 0.5)</code></pre><p>Calculate the approximate quantile via the P^2 algorithm.  It is more computationally expensive than the algorithms used by <a href="#OnlineStats.Quantile"><code>Quantile</code></a>, but also more exact.</p><p>Ref: <a href="https://www.cse.wustl.edu/~jain/papers/ftp/psqr.pdf">https://www.cse.wustl.edu/~jain/papers/ftp/psqr.pdf</a></p><p><strong>Example</strong></p><pre><code class="nohighlight hljs">fit!(P2Quantile(.5), rand(10^5))</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joshday/OnlineStats.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OnlineStats.Partition" href="#OnlineStats.Partition"><code>OnlineStats.Partition</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Partition(stat)
Partition(stat, nparts)</code></pre><p>Split a data stream into <code>nparts</code> (default 100) where each part is summarized by <code>stat</code>.</p><p><strong>Example</strong></p><pre><code class="nohighlight hljs">o = Partition(Extrema())
fit!(o, cumsum(randn(10^5)))

using Plots
plot(o)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joshday/OnlineStats.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OnlineStats.ProbMap" href="#OnlineStats.ProbMap"><code>OnlineStats.ProbMap</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">ProbMap(T::Type; weight=EqualWeight())
ProbMap(A::AbstractDict{T, Float64}; weight=EqualWeight())</code></pre><p>Track a dictionary that maps unique values to its probability.  Similar to <a href="#OnlineStatsBase.CountMap"><code>CountMap</code></a>, but uses a weighting mechanism.</p><p><strong>Example</strong></p><pre><code class="nohighlight hljs">o = ProbMap(Int)
fit!(o, rand(1:10, 1000))
probs(o)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joshday/OnlineStats.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OnlineStats.Quantile" href="#OnlineStats.Quantile"><code>OnlineStats.Quantile</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Quantile(q::Vector{Float64} = [0, .25, .5, .75, 1]; b=500)</code></pre><p>Calculate (approximate) quantiles from a data stream.  Internally uses <a href="#OnlineStats.ExpandingHist"><code>ExpandingHist</code></a> to estimate the distribution, for which <code>b</code> is the number of histogram bins.  Setting <code>b</code> to a larger number will increase accuracy at the cost of speed.</p><p><strong>Example</strong></p><pre><code class="nohighlight hljs">q = [.25, .5, .75]
x = randn(10^6)

o = fit!(Quantile(q, b=1000), randn(10^6))
value(o)

quantile(x, q)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joshday/OnlineStats.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OnlineStats.RMSPROP" href="#OnlineStats.RMSPROP"><code>OnlineStats.RMSPROP</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">RMSPROP(α = .9)</code></pre><p>A Variation of <a href="#OnlineStats.ADAGRAD"><code>ADAGRAD</code></a> that uses element-wise weights generated by an exponentially weighted mean of the squared gradients.</p><ul><li>Reference: https://ruder.io/optimizing-gradient-descent/</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joshday/OnlineStats.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OnlineStats.ReservoirSample" href="#OnlineStats.ReservoirSample"><code>OnlineStats.ReservoirSample</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">ReservoirSample(k::Int, T::Type = Float64)</code></pre><p>Create a sample without replacement of size <code>k</code>.  After running through <code>n</code> observations, the probability of an observation being in the sample is <code>1 / n</code>.</p><p>If you need more advanced reservoir sampling methods consider using <code>StreamSampling.jl</code>.</p><p><strong>Example</strong></p><pre><code class="nohighlight hljs">fit!(ReservoirSample(100, Int), 1:1000)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joshday/OnlineStats.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OnlineStats.SGD" href="#OnlineStats.SGD"><code>OnlineStats.SGD</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">SGD()</code></pre><p>Stochastic Gradient Descent.</p><ul><li>Reference: https://ruder.io/optimizing-gradient-descent/</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joshday/OnlineStats.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OnlineStats.StatLag" href="#OnlineStats.StatLag"><code>OnlineStats.StatLag</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">StatLag(stat, b)</code></pre><p>Track a moving window (previous <code>b</code> copies) of <code>stat</code>.</p><p><strong>Example</strong></p><pre><code class="nohighlight hljs">fit!(StatLag(Mean(), 10), 1:20)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joshday/OnlineStats.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OnlineStats.StatLearn" href="#OnlineStats.StatLearn"><code>OnlineStats.StatLearn</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">StatLearn(args...; penalty=zero, rate=LearningRate())</code></pre><p>Fit a model (via stochastic approximation) that is linear in the parameters.  The (offline) objective function that StatLearn approximately minimizes is</p><p><span>$(1/n) ∑ᵢ f(yᵢ, xᵢ&#39;β) + ∑ⱼ λⱼ g(βⱼ),$</span></p><p>where <span>$fᵢ$</span> are loss functions of a response variable and linear predictor, <span>$λⱼ$</span>s are nonnegative regularization parameters, and <span>$g$</span> is a penalty function.</p><p>Use <code>StatLearn</code> with caution, as stochastic approximation algorithms are inherently noisy.</p><p><strong>Arguments</strong></p><ul><li><code>loss = OnlineStats.l2regloss</code>: The loss function to be (approximately) minimized.<ul><li>Regression Losses:<ul><li><code>l2regloss</code>: Squared error loss</li><li><code>l1regloss</code>: Absolute error loss</li></ul></li><li>Classification (y ∈ {-1, 1}) Losses:<ul><li><code>logisticloss</code>: Logistic regression</li><li><code>l1hingeloss</code>: Loss function used in Support Vector Machines.</li><li><code>DWDLoss(q)</code>: Generalized Distance Weighted Discrimination (smoothed <code>l1hingeloss</code>)</li></ul></li></ul></li><li><code>algorithm = MSPI()</code>: The stochastic approximation method to be used.<ul><li>Algorithms based on Stochastic gradient:<ul><li><code>SGD()</code>: Stochastic Gradient Descent</li><li><code>ADAGRAD()</code>: AdaGrad (adaptive version of SGD)</li><li><code>RMSPROP()</code>: RMSProp (adaptive version of SGD)</li></ul></li><li>Algorithms based on Majorization-Minimization Principle:<ul><li><code>MSPI()</code>: Majorized Stochastic Proximal Iteration</li><li><code>OMAS()</code>: Online MM via Averaged Surrogate</li><li><code>OMAP()</code>: Online MM via Averaged Parameter</li></ul></li></ul></li><li><code>λ = 0.0</code>: The hyperparameter(s) used for the penalty function<ul><li>User can provide elementwise penalty hyperparameters (<code>Vector{Float64}</code>) or single hyperparameter (<code>Float64</code>).</li></ul></li></ul><p><strong>Keyword Arguments</strong></p><ul><li><code>penalty</code>: The regularization function used.<ul><li><code>zero</code>: no penalty (default)</li><li><code>abs</code>: (LASSO) parameters penalized by their absolute value</li><li><code>abs2</code>: (Ridge) parameters penalized by their squared value</li><li><code>ElasticNet(α)</code>: α * (abs penalty) + (1-α) * (abs2 penalty)</li></ul></li><li><code>rate = LearningRate(.6)</code></li></ul><p><strong>Example</strong></p><pre><code class="nohighlight hljs">x = randn(1000, 5)
y = x * range(-1, stop=1, length=5) + randn(1000)

o = fit!(StatLearn(MSPI()), zip(eachrow(x), y))
coef(o)

o = fit!(StatLearn(OnlineStats.l1regloss, ADAGRAD()), zip(eachrow(x), y))
coef(o)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joshday/OnlineStats.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OnlineStats.Trace" href="#OnlineStats.Trace"><code>OnlineStats.Trace</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Trace(stat, b=500, f=value)</code></pre><p>Wrapper around an OnlineStat that stores <code>b</code> &quot;snapshots&quot; (a fixed copy of the OnlineStat).  The snapshots are taken at approximately equally-spaced intervals between 0 and the current <code>nobs</code>.  The main use case is visualizing state changes as observations are added.</p><p><strong>Example</strong></p><pre><code class="nohighlight hljs">using OnlineStats, Plots

o = Trace(Mean(), 10)

fit!(o, 1:100)

OnlineStats.snapshots(o)

plot(o)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joshday/OnlineStats.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Base.sort!-Tuple{CCIPCA}" href="#Base.sort!-Tuple{CCIPCA}"><code>Base.sort!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">sort!(o::CCIPCA)</code></pre><p>Sort eigenvalues and their eigenvectors of <code>o</code> so highest ones come first. Useful before visualising since it ensures most variation is on the first (X) axis.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joshday/OnlineStats.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OnlineStats.eigenvalue-Tuple{CCIPCA, Int64}" href="#OnlineStats.eigenvalue-Tuple{CCIPCA, Int64}"><code>OnlineStats.eigenvalue</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">eigenvalue(o::CCIPCA, i::Int)</code></pre><p>Get the <code>i</code>th eigenvalue of <code>o</code>. Also called principal variance for PCA.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joshday/OnlineStats.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OnlineStats.eigenvector-Tuple{CCIPCA, Int64}" href="#OnlineStats.eigenvector-Tuple{CCIPCA, Int64}"><code>OnlineStats.eigenvector</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">eigenvector(o::CCIPCA, i::Int)</code></pre><p>Get the <code>i</code>th eigenvector of <code>o</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joshday/OnlineStats.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OnlineStats.fittransform!-Tuple{CCIPCA, Vector{Float64}}" href="#OnlineStats.fittransform!-Tuple{CCIPCA, Vector{Float64}}"><code>OnlineStats.fittransform!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">fittransform!(o::CCIPCA, u::Vector{Float64})</code></pre><p>First <code>fit!</code> and then <code>transform</code> the vector <code>u</code> into the PCA space represented by <code>o</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joshday/OnlineStats.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OnlineStats.l1hingeloss-Tuple{Any, Any}" href="#OnlineStats.l1hingeloss-Tuple{Any, Any}"><code>OnlineStats.l1hingeloss</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">l1hingeloss(y, xβ)</code></pre><p>Loss function between boolean response <code>y ∈ {-1, 1}</code> and linear predictor <code>xβ</code> for support vector machines:</p><p><span>$max(1 - y * xβ, 0)$</span></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joshday/OnlineStats.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OnlineStats.l1regloss-Tuple{Any, Any}" href="#OnlineStats.l1regloss-Tuple{Any, Any}"><code>OnlineStats.l1regloss</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">l1regloss(y, xβ)</code></pre><p>Loss function between continuous response <code>y</code> and linear predictor <code>xβ</code> based on the <span>$L_1$</span> norm:</p><p><span>$|y - xβ|$</span></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joshday/OnlineStats.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OnlineStats.l2regloss-Tuple{Any, Any}" href="#OnlineStats.l2regloss-Tuple{Any, Any}"><code>OnlineStats.l2regloss</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">l2regloss(y, xβ)</code></pre><p>Loss function between continuous response <code>y</code> and linear predictor <code>xβ</code> based on the <span>$L_2$</span> norm:</p><p><span>$.5 * (y - xβ) ^ 2$</span></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joshday/OnlineStats.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OnlineStats.logisticloss-Tuple{Any, Any}" href="#OnlineStats.logisticloss-Tuple{Any, Any}"><code>OnlineStats.logisticloss</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">logisticloss(y, xβ)</code></pre><p>Loss function between boolean response <code>y ∈ {-1, 1}</code> and linear predictor <code>xβ</code> for logistic regression:</p><p><span>$log(1 + exp(-y * xβ))$</span></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joshday/OnlineStats.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OnlineStats.principalvar-Tuple{CCIPCA, Int64}" href="#OnlineStats.principalvar-Tuple{CCIPCA, Int64}"><code>OnlineStats.principalvar</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">eigenvalue(o::CCIPCA, i::Int)</code></pre><p>Get the <code>i</code>th eigenvalue of <code>o</code>. Also called principal variance for PCA.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joshday/OnlineStats.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OnlineStats.reconstruct-Tuple{CCIPCA, AbstractArray{Float64}}" href="#OnlineStats.reconstruct-Tuple{CCIPCA, AbstractArray{Float64}}"><code>OnlineStats.reconstruct</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">reconstruct(o::CCIPCA, uproj::AbstractArray{Float64})</code></pre><p>Reconstruct the (projected) vector <code>uproj</code> back to the original space from which <code>o</code> has been fitted.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joshday/OnlineStats.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OnlineStats.relativevariances-Tuple{CCIPCA}" href="#OnlineStats.relativevariances-Tuple{CCIPCA}"><code>OnlineStats.relativevariances</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">relativevariances(o::CCIPCA)</code></pre><p>Get the relative variance (explained) in the direction of each eigenvector. Returns a vector of zeros if no vectors have yet been fitted. Note that this does not inclue the residual variance that is not captured in the eigenvectors.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joshday/OnlineStats.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OnlineStatsBase.value-Union{Tuple{DPMM{T}}, Tuple{T}} where T&lt;:Real" href="#OnlineStatsBase.value-Union{Tuple{DPMM{T}}, Tuple{T}} where T&lt;:Real"><code>OnlineStatsBase.value</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">value(o::DPMM)</code></pre><p>Realize the mixture model where each component is the marginal predictive distribution obtained as</p><pre><code class="nohighlight hljs">q(x; mₖ, lₖ, aₖ, bₖ)
    = ∫ N(x; μₖ, sqrt(1/τₖ)) q(μₖ | τₖ; mₖ, lₖ) q(τₖ; aₖ, bₖ) dμₖ dτₖ
    = ∫ N(x; mₖ, sqrt(1/τₖ + 1/(lₖ*τₖ))) Gamma(τₖ; aₖ, bₖ) dμₖ dτₖ
    = TDist( 2*aₖ, mₖ, sqrt(bₖ/aₖ*(lₖ+1)/lₖ) )</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joshday/OnlineStats.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="StatsAPI.confint" href="#StatsAPI.confint"><code>StatsAPI.confint</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">confint(b::Bootstrap, coverageprob = .95)</code></pre><p>Return a confidence interval for a Bootstrap <code>b</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joshday/OnlineStats.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="StatsBase.transform-Tuple{CCIPCA, AbstractArray{Float64}}" href="#StatsBase.transform-Tuple{CCIPCA, AbstractArray{Float64}}"><code>StatsBase.transform</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">transform(o::CCIPCA, u::AbstractArray{Float64})</code></pre><p>Transform (i.e. project) the vector <code>u</code> into the PCA space represented by <code>o</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joshday/OnlineStats.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OnlineStatsBase.CircBuff" href="#OnlineStatsBase.CircBuff"><code>OnlineStatsBase.CircBuff</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">CircBuff(T, b; rev=false)</code></pre><p>Create a fixed-length circular buffer of <code>b</code> items of type <code>T</code>.</p><ul><li><code>rev=false</code>: <code>o[1]</code> is the oldest.</li><li><code>rev=true</code>: <code>o[end]</code> is the oldest.</li></ul><p><strong>Example</strong></p><pre><code class="nohighlight hljs">a = CircBuff(Int, 5)
b = CircBuff(Int, 5, rev=true)

fit!(a, 1:10)
fit!(b, 1:10)

a[1] == b[end] == 1
a[end] == b[1] == 10

value(o; ordered=false)  # Retrieve values (no copy) without ordering</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joshday/OnlineStatsBase.jl/blob/v1.7.1/src/stats.jl#L17-L36">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OnlineStatsBase.CountMap" href="#OnlineStatsBase.CountMap"><code>OnlineStatsBase.CountMap</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">CountMap(T::Type)
CountMap(dict::AbstractDict{T, Int})</code></pre><p>Track a dictionary that maps unique values to its number of occurrences.  Similar to <code>StatsBase.countmap</code>.</p><p>Counts can be incremented by values other than one (and decremented) using the <code>fit!(::CountMap{T}, ::Pair{T,Int})</code> method, e.g.</p><pre><code class="language-julia hljs">o = fit!(CountMap(String), [&quot;A&quot;, &quot;B&quot;])
fit!(o, &quot;A&quot; =&gt; 5)
fit!(o, &quot;A&quot; =&gt; -1)</code></pre><p><strong>Example</strong></p><pre><code class="nohighlight hljs">o = fit!(CountMap(Int), rand(1:10, 1000))
value(o)
OnlineStatsBase.probs(o)
OnlineStats.pdf(o, 1)
collect(keys(o))
sort!(o)
delete!(o, 1)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joshday/OnlineStatsBase.jl/blob/v1.7.1/src/stats.jl#L85-L109">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OnlineStatsBase.CountMissing" href="#OnlineStatsBase.CountMissing"><code>OnlineStatsBase.CountMissing</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">CountMissing(stat)</code></pre><p>Calculate a <code>stat</code> along with the count of <code>missing</code> values.  </p><p><strong>Example</strong></p><pre><code class="nohighlight hljs">o = CountMissing(Mean())
fit!(o, [1, missing, 3])</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joshday/OnlineStatsBase.jl/blob/v1.7.1/src/wrappers.jl#L9-L18">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OnlineStatsBase.Counter" href="#OnlineStatsBase.Counter"><code>OnlineStatsBase.Counter</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Counter(T=Number)</code></pre><p>Count the number of items in a data stream with elements of type <code>T</code>.</p><p><strong>Example</strong></p><pre><code class="nohighlight hljs">fit!(Counter(Int), 1:100)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joshday/OnlineStatsBase.jl/blob/v1.7.1/src/stats.jl#L66-L74">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OnlineStatsBase.CovMatrix" href="#OnlineStatsBase.CovMatrix"><code>OnlineStatsBase.CovMatrix</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">CovMatrix(p=0; weight=EqualWeight())
CovMatrix(::Type{T}, p=0; weight=EqualWeight())</code></pre><p>Calculate a covariance/correlation matrix of <code>p</code> variables.  If the number of variables is unknown, leave the default <code>p=0</code>.</p><p><strong>Example</strong></p><pre><code class="nohighlight hljs">o = fit!(CovMatrix(), randn(100, 4) |&gt; eachrow)
cor(o)
cov(o)
mean(o)
var(o)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joshday/OnlineStatsBase.jl/blob/v1.7.1/src/stats.jl#L154-L168">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OnlineStatsBase.Extrema" href="#OnlineStatsBase.Extrema"><code>OnlineStatsBase.Extrema</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Extrema(T::Type = Float64)
Extrema(min_init::T, max_init::T)</code></pre><p>Maximum and minimum (and number of occurrences for each) for a data stream of type <code>T</code>.</p><p><strong>Example</strong></p><pre><code class="nohighlight hljs">Extrema(Float64) == Extrema(Inf, -Inf)

o = fit!(Extrema(), rand(10^5))
extrema(o)
maximum(o)
minimum(o)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joshday/OnlineStatsBase.jl/blob/v1.7.1/src/stats.jl#L214-L228">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OnlineStatsBase.ExtremeValues" href="#OnlineStatsBase.ExtremeValues"><code>OnlineStatsBase.ExtremeValues</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">ExtremeValues(T = Float64, b=25)</code></pre><p>Track the <code>b</code> smallest and largest values of a data stream (as well as how many times that value occurred).</p><p><strong>Example</strong></p><pre><code class="nohighlight hljs">o = ExtremeValues(Int, 3)

fit!(o, 1:100)

value(o).lo  # [1 =&gt; 1, 2 =&gt; 1, 3 =&gt; 1]

value(o).hi  # [98 =&gt; 1, 99 =&gt; 1, 100 =&gt; 1]</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joshday/OnlineStatsBase.jl/blob/v1.7.1/src/stats.jl#L292-L306">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OnlineStatsBase.FilterTransform" href="#OnlineStatsBase.FilterTransform"><code>OnlineStatsBase.FilterTransform</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">FilterTransform(stat::OnlineStat{S}, T = S; filter = x-&gt;true, transform = identity)
FilterTransform(T =&gt; filter =&gt; transform =&gt; stat)</code></pre><p>Wrapper around an OnlineStat that the filters and transforms its input.  Note that, depending on  your transformation, you may need to specify the type of a single observation (<code>T</code>).</p><p><strong>Examples</strong></p><pre><code class="nohighlight hljs">o = FilterTransform(Mean(), Union{Missing,Number}, filter=!ismissing)
fit!(o, [1, missing, 3])

o = FilterTransform(String =&gt; (x-&gt;true) =&gt; (x-&gt;parse(Int,x)) =&gt; Mean())
fit!(o, &quot;1&quot;)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joshday/OnlineStatsBase.jl/blob/v1.7.1/src/wrappers.jl#L32-L46">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OnlineStatsBase.Group" href="#OnlineStatsBase.Group"><code>OnlineStatsBase.Group</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Group(stats::OnlineStat...)
Group(; stats...)
Group(collection)</code></pre><p>Create a vector-input stat from several scalar-input stats.  For a new observation <code>y</code>, <code>y[i]</code> is sent to <code>stats[i]</code>.</p><p><strong>Examples</strong></p><pre><code class="nohighlight hljs">x = randn(100, 2)

fit!(Group(Mean(), Mean()), eachrow(x))
fit!(Group(Mean(), Variance()), eachrow(x))

o = fit!(Group(m1 = Mean(), m2 = Mean()), eachrow(x))
o.stats.m1
o.stats.m2

o = Group(fill(Mean(), 10))
fit!(o, eachrow(randn(100, 10)))</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joshday/OnlineStatsBase.jl/blob/v1.7.1/src/stats.jl#L350-L371">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OnlineStatsBase.GroupBy" href="#OnlineStatsBase.GroupBy"><code>OnlineStatsBase.GroupBy</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">GroupBy(T, stat)</code></pre><p>Update <code>stat</code> for each group (of type <code>T</code>).  A single observation is either a (named) tuple with two elements or a Pair.</p><p><strong>Example</strong></p><pre><code class="nohighlight hljs">x = rand(Bool, 10^5)
y = x .+ randn(10^5)
fit!(GroupBy(Bool, Series(Mean(), Extrema())), zip(x,y))</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joshday/OnlineStatsBase.jl/blob/v1.7.1/src/stats.jl#L419-L430">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OnlineStatsBase.Mean" href="#OnlineStatsBase.Mean"><code>OnlineStatsBase.Mean</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Mean(T = Float64; weight=EqualWeight())</code></pre><p>Track a univariate mean, stored as type <code>T</code>.</p><p><strong>Example</strong></p><pre><code class="nohighlight hljs">@time fit!(Mean(), randn(10^6))</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joshday/OnlineStatsBase.jl/blob/v1.7.1/src/stats.jl#L456-L464">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OnlineStatsBase.Moments" href="#OnlineStatsBase.Moments"><code>OnlineStatsBase.Moments</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Moments(; weight=EqualWeight())</code></pre><p>First four non-central moments.</p><p><strong>Example</strong></p><pre><code class="nohighlight hljs">o = fit!(Moments(), randn(1000))
mean(o)
var(o)
std(o)
skewness(o)
kurtosis(o)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joshday/OnlineStatsBase.jl/blob/v1.7.1/src/stats.jl#L486-L499">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OnlineStatsBase.RepeatingRange" href="#OnlineStatsBase.RepeatingRange"><code>OnlineStatsBase.RepeatingRange</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">RepeatingRange(rng)</code></pre><p>Range that repeats forever. e.g.</p><pre><code class="nohighlight hljs">r = OnlineStatsBase.RepeatingRange(1:2)
r[1:5] == [1, 2, 1, 2, 1]</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joshday/OnlineStatsBase.jl/blob/v1.7.1/src/stats.jl#L2-L9">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OnlineStatsBase.Series" href="#OnlineStatsBase.Series"><code>OnlineStatsBase.Series</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Series(stats)
Series(stats...)
Series(; stats...)</code></pre><p>Track a collection stats for one data stream.</p><p><strong>Example</strong></p><pre><code class="nohighlight hljs">s = Series(Mean(), Variance())
fit!(s, randn(1000))</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joshday/OnlineStatsBase.jl/blob/v1.7.1/src/stats.jl#L600-L611">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OnlineStatsBase.SkipMissing" href="#OnlineStatsBase.SkipMissing"><code>OnlineStatsBase.SkipMissing</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">SkipMissing(stat)</code></pre><p>Wrapper around an OnlineStat that will skip over <code>missing</code> values.</p><p><strong>Example</strong></p><pre><code class="nohighlight hljs">o = SkipMissing(Mean())

fit!(o, [1, missing, 3])</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joshday/OnlineStatsBase.jl/blob/v1.7.1/src/wrappers.jl#L69-L79">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OnlineStatsBase.Sum" href="#OnlineStatsBase.Sum"><code>OnlineStatsBase.Sum</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Sum(T::Type = Float64)</code></pre><p>Track the overall sum.</p><p><strong>Example</strong></p><pre><code class="nohighlight hljs">fit!(Sum(Int), fill(1, 100))</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joshday/OnlineStatsBase.jl/blob/v1.7.1/src/stats.jl#L534-L542">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OnlineStatsBase.TryCatch" href="#OnlineStatsBase.TryCatch"><code>OnlineStatsBase.TryCatch</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">TryCatch(stat; error_limit=1000, error_message_limit=90)</code></pre><p>Wrap each call to <code>fit!</code> in a <code>try</code>-<code>catch</code> block and track the errors encountered (via <a href="#OnlineStatsBase.CountMap"><code>CountMap</code></a>).   Only <code>error_limit</code> unique errors will be included in the <code>CountMap</code>.  If a new error occurs after  <code>error_limit</code> has been reached, it will be included in the <code>CountMap</code> as <code>&quot;Other&quot;</code>.  Only the first  <code>error_message_limit</code> characters of each error message will be recorded.</p><p><strong>Example</strong></p><pre><code class="nohighlight hljs">o = TryCatch(Mean())

fit!(o, [1, missing, 3])

OnlineStatsBase.errors(o)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joshday/OnlineStatsBase.jl/blob/v1.7.1/src/wrappers.jl#L89-L104">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OnlineStatsBase.Variance" href="#OnlineStatsBase.Variance"><code>OnlineStatsBase.Variance</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Variance(T = Float64; weight=EqualWeight())</code></pre><p>Univariate variance, tracked as type <code>T</code>.</p><p><strong>Example</strong></p><pre><code class="nohighlight hljs">o = fit!(Variance(), randn(10^6))
mean(o)
var(o)
std(o)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joshday/OnlineStatsBase.jl/blob/v1.7.1/src/stats.jl#L554-L565">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Base.merge!-Tuple{OnlineStat, OnlineStat}" href="#Base.merge!-Tuple{OnlineStat, OnlineStat}"><code>Base.merge!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">merge!(a, b)</code></pre><p>Merge <code>OnlineStat</code> <code>b</code> into <code>a</code> (supported by most <code>OnlineStat</code> types).</p><p><strong>Example</strong></p><pre><code class="nohighlight hljs">a = fit!(Mean(), 1:10)
b = fit!(Mean(), 11:20)
merge!(a, b)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joshday/OnlineStatsBase.jl/blob/v1.7.1/src/OnlineStatsBase.jl#L46-L56">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OnlineStatsBase.smooth!-Tuple{Any, Any, Any}" href="#OnlineStatsBase.smooth!-Tuple{Any, Any, Any}"><code>OnlineStatsBase.smooth!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">smooth!(a, b, γ)</code></pre><p>Update <code>a</code> in place by applying the <a href="#OnlineStatsBase.smooth-Tuple{Any, Any, Any}"><code>smooth</code></a> function elementwise with <code>b</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joshday/OnlineStatsBase.jl/blob/v1.7.1/src/OnlineStatsBase.jl#L186-L190">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OnlineStatsBase.smooth-Tuple{Any, Any, Any}" href="#OnlineStatsBase.smooth-Tuple{Any, Any, Any}"><code>OnlineStatsBase.smooth</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">smooth(a, b, γ)</code></pre><p>Weighted average of <code>a</code> and <code>b</code> with weight <code>γ</code>.</p><p><span>$(1 - γ) * a + γ * b$</span></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joshday/OnlineStatsBase.jl/blob/v1.7.1/src/OnlineStatsBase.jl#L177-L183">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OnlineStatsBase.smooth_syr!-Tuple{AbstractMatrix, Any, Any}" href="#OnlineStatsBase.smooth_syr!-Tuple{AbstractMatrix, Any, Any}"><code>OnlineStatsBase.smooth_syr!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">smooth_syr!(A::AbstractMatrix, x, γ::Number)</code></pre><p>Weighted average of symmetric rank-1 update.  Updates the upper triangle of:</p><p><code>A = (1 - γ) * A + γ * x * x&#39;</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joshday/OnlineStatsBase.jl/blob/v1.7.1/src/OnlineStatsBase.jl#L197-L203">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OnlineStatsBase.value-Tuple{T} where T&lt;:OnlineStat" href="#OnlineStatsBase.value-Tuple{T} where T&lt;:OnlineStat"><code>OnlineStatsBase.value</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">value(stat::OnlineStat)</code></pre><p>Calculate the value of <code>stat</code> from its &quot;sufficient statistics&quot;.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joshday/OnlineStatsBase.jl/blob/v1.7.1/src/OnlineStatsBase.jl#L34-L38">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="StatsAPI.fit!-Tuple{OnlineStat, OnlineStat}" href="#StatsAPI.fit!-Tuple{OnlineStat, OnlineStat}"><code>StatsAPI.fit!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">fit!(stat1::OnlineStat, stat2::OnlineStat)</code></pre><p>Alias for <code>merge!</code>. Merges <code>stat2</code> into <code>stat1</code>.</p><p>Useful for reductions of OnlineStats using <code>fit!</code>.</p><p><strong>Example</strong></p><pre><code class="language-julia-repl hljs">julia&gt; v = [reduce(fit!, [1, 2, 3], init=Mean()) for _ in 1:3]
3-element Vector{Mean{Float64, EqualWeight}}:
Mean: n=3 | value=2.0
Mean: n=3 | value=2.0
Mean: n=3 | value=2.0

julia&gt; reduce(fit!, v, init=Mean())
Mean: n=9 | value=2.0</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joshday/OnlineStatsBase.jl/blob/v1.7.1/src/OnlineStatsBase.jl#L138-L157">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="StatsAPI.fit!-Union{Tuple{T}, Tuple{OnlineStat{T}, T, Integer}} where T" href="#StatsAPI.fit!-Union{Tuple{T}, Tuple{OnlineStat{T}, T, Integer}} where T"><code>StatsAPI.fit!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">fit!(stat::OnlineStat, y, n)</code></pre><p>Update the &quot;sufficient statistics&quot; of a <code>stat</code> with multiple observations of a single value. Unless a specialized formula is used, <code>fit!(Mean(), 10, 5)</code> is equivalent to:</p><pre><code class="language-julia hljs">o = Mean()

for _ in 1:5
    fit!(o, 10)
end</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joshday/OnlineStatsBase.jl/blob/v1.7.1/src/OnlineStatsBase.jl#L122-L135">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="StatsAPI.fit!-Union{Tuple{T}, Tuple{OnlineStat{T}, T}} where T" href="#StatsAPI.fit!-Union{Tuple{T}, Tuple{OnlineStat{T}, T}} where T"><code>StatsAPI.fit!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">fit!(stat::OnlineStat, data)</code></pre><p>Update the &quot;sufficient statistics&quot; of a <code>stat</code> with more data.   If <code>typeof(data)</code> is not the type of a single observation for the provided <code>stat</code>, <code>fit!</code> will attempt to iterate through and <code>fit!</code> each item in <code>data</code>.  Therefore, <code>fit!(Mean(), 1:10)</code> translates roughly to:</p><pre><code class="language-julia hljs">o = Mean()

for x in 1:10
    fit!(o, x)
end</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joshday/OnlineStatsBase.jl/blob/v1.7.1/src/OnlineStatsBase.jl#L96-L111">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../ml/">« Statistical Learning</a><div class="flexbox-break"></div><p class="footer-message">© 2022 Josh Day</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.14.1 on <span class="colophon-date" title="Saturday 30 August 2025 22:17">Saturday 30 August 2025</span>. Using Julia version 1.11.6.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
